<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="gestion_restaurante_sme.plato_list">
      <field name="name">gestion_restaurante_sme plato_list</field>
      <field name="model">gestion_restaurante_sme.plato_sme</field>
      <field name="arch" type="xml">
        <list>
          <field name="codigo"/>
          <field name="name"/>
          <field name="categoria_id"/>
          <field name="precio"/>
          <field name="disponible"/>
          <field name="precio_con_iva"/>
          <field name="precio_final"/>
        </list>
      </field>
    </record>


    <record model="ir.ui.view" id="gestion_restaurante_sme.form_platos">
      <field name="name">gestion_restaurante_sme form_platos</field>
      <field name="model">gestion_restaurante_sme.plato_sme</field>
      <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="description"/>
                    <field name="precio"/>
                    <field name="descuento"/>
                    <field name="tiempo_preparacion"/>
                    <field name="disponible"/>
                    <field name="fecha_alta"/>
                    <field name="categoria_id"/>
                    <field name="chef_especializado"/>
                    <field name="especialidad_chef"/>
                    <field name="menu"/>
                    <field name="rel_ingredientes" widget="many2many_tags"/>
                </group>
            </sheet>
        </form>
      </field>
    </record>



    <record model="ir.ui.view" id="gestion_restaurante_sme.list_menu">
      <field name="name">gestion_restaurante_sme list_menu</field>
      <field name="model">gestion_restaurante_sme.menu_sme</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>          
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="gestion_restaurante_sme.form_menus">
      <field name="name">gestion_restaurante_sme form_menus</field>
      <field name="model">gestion_restaurante_sme.menu_sme</field>
      <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="description"/>
                    <field name="fecha_inicio"/>
                    <field name="fecha_fin"/>
                    <field name="activo"/>
                    <field name="platos"/>  
                    <field name="precio_total"/>
                    <field name="creado_por"/>
                    <field name="dias_disponible"/>
                </group>
            </sheet>
        </form>
      </field>
    </record>



    <record model="ir.ui.view" id="gestion_restaurante_sme.list_ingrediente">
      <field name="name">gestion_restaurante_sme list_ingrediente</field>
      <field name="model">gestion_restaurante_sme.ingrediente_sme</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>
          <field name="description"/>          
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="gestion_restaurante_sme.form_ingredientes">
      <field name="name">gestion_restaurante_sme form_ingredientes</field>
      <field name="model">gestion_restaurante_sme.ingrediente_sme</field>
      <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="es_alergeno"/>
                    <field name="description"/>                    
                    <field name="rel_platos"/>
                    
                </group>
            </sheet>
        </form>
      </field>
    </record>


    <record model="ir.ui.view" id="gestion_restaurante_sme.list_categoria">
      <field name="name">gestion_restaurante_sme list_categoria</field>
      <field name="model">gestion_restaurante_sme.categorias_sme</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>
          <field name="description"/>          
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="gestion_restaurante_sme.form_categorias">
      <field name="name">gestion_restaurante_sme form_categorias</field>
      <field name="model">gestion_restaurante_sme.categorias_sme</field>
      <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>              
                    <field name="description"/>                    
                    <field name="platos"/>
                    <field name="chefs"/>
                    <field name="ingredientes_comunes"/>

                    
                </group>
            </sheet>
        </form>
      </field>
    </record>


    <record model="ir.ui.view" id="gestion_restaurante_sme.list_chef">
      <field name="name">gestion_restaurante_sme list_chef</field>
      <field name="model">gestion_restaurante_sme.chef_sme</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>            
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="gestion_restaurante_sme.form_chef">
      <field name="name">gestion_restaurante_sme form_chef</field>
      <field name="model">gestion_restaurante_sme.chef_sme</field>
      <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>              
                    <field name="especialidad"/>                    
                    <field name="platos_asignados"/>
                    
                </group>
            </sheet>
        </form>
      </field>
    </record>


    <!-- Vista de Formulario -->
    <record model="ir.ui.view" id="gestion_restaurante_sme.view_partner_form_inherit">
      <field name="name">Camareros form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="mode">primary</field>
      <field name="arch" type="xml">
      <xpath expr="//field[@name='vat']" position="attributes">
        <attribute name="invisible">1</attribute>
      </xpath>
      <xpath expr="//page[@name='contact_addresses']" position="attributes">
            <attribute name="invisible">1</attribute>
      </xpath>

      <xpath expr="//field[@name='function']" position="after"> 
        <field name='seccion'/>
      </xpath>

        <xpath expr="//sheet/notebook/page[@name='internal_notes']" position="after">
          <page name="Camarero" string='Datos Camarero' invisible="not es_camarero"> 
            <sheet>
                <group>
                    <field name='es_camarero' invisible="1"/>
                    <field name='turno'/>
                    <field name="menus_especialidad" widget="many2many_tags"/>                      
                </group>
            </sheet>
          </page>
        </xpath>
      </field>
    </record>


    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="gestion_restaurante_sme.action_platos_window">
      <field name="name">gestion_restaurante_sme plato_window</field>
      <field name="res_model">gestion_restaurante_sme.plato_sme</field>
      <field name="view_mode">list,form</field>
    </record>

    <record model="ir.actions.act_window" id="gestion_restaurante_sme.action_menus_window">
      <field name="name">gestion_restaurante_sme menu_window</field>
      <field name="res_model">gestion_restaurante_sme.menu_sme</field>
      <field name="view_mode">list,form</field>
    </record>

    <record model="ir.actions.act_window" id="gestion_restaurante_sme.action_ingredientes_window">
      <field name="name">gestion_restaurante_sme ingrediente_window</field>
      <field name="res_model">gestion_restaurante_sme.ingrediente_sme</field>
      <field name="view_mode">list,form</field>
    </record>

    <record model="ir.actions.act_window" id="gestion_restaurante_sme.action_categorias_window">
      <field name="name">gestion_restaurante_sme categoria_window</field>
      <field name="res_model">gestion_restaurante_sme.categorias_sme</field>
      <field name="view_mode">list,form</field>
    </record>


    <record model="ir.actions.act_window" id="gestion_restaurante_sme.action_chefs_window">
      <field name="name">gestion_restaurante_sme chef_window</field>
      <field name="res_model">gestion_restaurante_sme.chef_sme</field>
      <field name="view_mode">list,form</field>
    </record>

    <record model="ir.actions.act_window" id="gestion_restaurante_sme.action_camareros_window">
      <field name="name">Camareros</field>
      <field name="res_model">res.partner</field>
      <field name="view_mode">list,form</field>
      <field name="domain">[('es_camarero', '=', True)]</field>
      <field name="context">{'default_es_camarero': True}</field>  
    </record>


    <record model="ir.actions.act_window.view" id="action_view_camareros_list">
      <field name="sequence" eval="1"/>
      <field name="view_mode">list</field>
      <field name="view_id" ref="base.view_partner_tree"/>
      <field name="act_window_id" ref="gestion_restaurante_sme.action_camareros_window"/>
    </record>
    <record model="ir.actions.act_window.view" id="action_view_camareros_form">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="gestion_restaurante_sme.view_partner_form_inherit"/>
      <field name="act_window_id" ref="gestion_restaurante_sme.action_camareros_window"/>
    </record>


    <!-- Top menu item -->

    <menuitem name="gestion_restaurante_sme" id="gestion_restaurante_sme.menu_root"/>

    <!-- menu categories -->

    <menuitem name="Menu" id="gestion_restaurante_sme.menu" parent="gestion_restaurante_sme.menu_root"/>

    <!-- actions -->

    <menuitem name="Listados platos" id="gestion_restaurante_sme.menu_listado_platos" parent="gestion_restaurante_sme.menu"
              action="gestion_restaurante_sme.action_platos_window"/>

    <menuitem name="Listados Menus" id="gestion_restaurante_sme.menu_listado_menus" parent="gestion_restaurante_sme.menu"
              action="gestion_restaurante_sme.action_menus_window"/>

            
    <menuitem name="Listado ingredientes" id="gestion_restaurante_sme.menu_listado_ingredientes" parent="gestion_restaurante_sme.menu"
              action="gestion_restaurante_sme.action_ingredientes_window"/>

    <menuitem name="Listado categorias" id="gestion_restaurante_sme.menu_listado_categorias" parent="gestion_restaurante_sme.menu"
              action="gestion_restaurante_sme.action_categorias_window"/>

    <menuitem name="Listado chefs" id="gestion_restaurante_sme.menu_listado_chefs" parent="gestion_restaurante_sme.menu"
              action="gestion_restaurante_sme.action_chefs_window"/>

    <menuitem name="Listado camareros" id="gestion_restaurante_sme.menu_listado_camareros" parent="gestion_restaurante_sme.menu"
              action="gestion_restaurante_sme.action_camareros_window"/>

  </data>
</odoo>
